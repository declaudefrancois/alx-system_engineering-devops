server {
        listen 80 default_server;
        listen [::]:80 default_server;

	server_name _;
        location ^~ /airbnb-dynamic/number_odd_or_even {
                proxy_set_header Host $host;
                proxy_set_header X-test 5001;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_pass http://localhost:5001;
        }

        location /airbnb-onepage {
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_pass http://localhost:5000;
        }

        location /api/ {
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_pass http://localhost:5002;
        }

	location /static {
                alias /home/ubuntu/AirBnB_clone_v4/web_dynamic/static/;
                try_files $uri 404;
        }

        location / {
                proxy_pass http://localhost:5003;
        }
}
